---
title: éæƒå¨æŒ‡å—-æ±‚èŒçŸ¥è¯†ç‚¹æ±‡æ€»
header-img: back.png
header-color: 'rgb(247,122,96)'
tag-color: 'rgb(247,122,96)'
catalog: true
toc-number: false
date: 2020-02-20 16:48:43
tags: ['javaScript', 'æ±‚èŒ']
---

## 1. ç®€ç­”é¢˜

#### ğŸˆ [] == [] çš„è¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ ä¸ºä»€ä¹ˆ

> false  
>
> å› ä¸ºâ€œ[]â€æ˜¯æŒ‡å‘ä¸€å—åœ°å€(ç©ºæ•°ç»„)çš„æŒ‡é’ˆ

### ğŸˆ [] == ![]ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ

> false
>
> å·¦è¾¹ç©ºæ•°ç»„è½¬ä¸º0ï¼Œå³è¾¹å…ˆè½¬ä¸º fasleï¼Œ å†è½¬ä¸º 0

#### ğŸˆ å‡å°‘é¡µé¢åŠ è½½æ—¶é—´çš„åŠæ³•ï¼Ÿ

> - å‡å°‘ http è¯·æ±‚ ï¼ˆåˆå¹¶æ–‡ä»¶ã€åˆå¹¶å›¾ç‰‡[é›ªç¢§å›¾]ï¼‰
> - ä¼˜åŒ–å›¾ç‰‡,é‡‡ç”¨æ­£ç¡®çš„å¤§å°å’Œæ ¼å¼
> - å‹ç¼© CSSã€js æ–‡ä»¶
> - ä½¿ç”¨ CDN

#### ğŸˆ ä»€ä¹ˆæƒ…å†µä¸‹ä¼šæœ‰è·¨åŸŸé—®é¢˜ï¼Ÿ

> è¯·æ±‚çš„èµ„æºåè®®ã€ä¸»æœº (åŸŸå)ã€ç«¯å£æœ‰ä»»æ„ä¸€ä¸ªä¸æ‰€åœ¨åŸŸä¸åŒæ—¶

#### ğŸˆ http åè®®ä¸­ä¸èµ„æºç¼“å­˜ç›¸å…³çš„åè®®å¤´æœ‰å“ªäº›ï¼Ÿ

> â€‹	

#### ğŸˆ box-sizing æœ‰å“ªäº›å€¼ï¼Ÿ åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ

> - content-box é»˜è®¤å€¼ï¼Œæ ‡å‡†ç›’æ¨¡å‹ã€‚width å’Œ height åªåŒ…æ‹¬å†…å®¹ï¼Œä¸åŒ…æ‹¬ paddingã€borderã€margin
> - border-box  width å’Œ height åŒ…æ‹¬å†…å®¹ã€paddingã€borderï¼Œä¸åŒ…æ‹¬ margin

#### ğŸˆ DOM Tree å’Œ Render Tree çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ

> DOM Tree æ˜¯åŒ…å«äº†æ‰€æœ‰çš„ HTML æ ‡ç­¾ï¼ŒåŒ…æ‹¬ display:node å’Œ js åŠ¨æ€æ·»åŠ çš„å…ƒç´ ç­‰
>
> Render Tree æ˜¯ DOM Tree å’Œ CSSOM æ ‘ç»„åˆæˆæœ€ç»ˆæ¸²æŸ“åœ¨é¡µé¢çš„æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½åŒ…å«æ ·å¼ã€‚ä¸åŒ…å«éšè—çš„èŠ‚ç‚¹ã€‚

#### ğŸˆ JavaScript åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‘ç”Ÿè£…ç®±å’Œæ‹†ç®±ï¼Ÿ

> è£…ç®±ï¼š æŠŠåŸºæœ¬ç±»å‹è½¬æ¢æˆå¼•ç”¨ç±»å‹
>
> æ‹†ç®±ï¼š æŠŠå¼•ç”¨ç±»å‹è½¬æ¢ä¸ºåŸºæœ¬ç±»å‹	

### ğŸˆ ä¸ºä»€ä¹ˆ typeof null === object

> è¿™æ˜¯ JS å­˜åœ¨çš„ä¸€ä¸ªæ‚ ä¹…çš„ bugã€‚ åœ¨æ—©æœŸ JS ä½¿ç”¨çš„æ˜¯ 32 ä½ç³»ç»Ÿï¼Œä¸ºäº†æ€§èƒ½è€ƒè™‘ç”¨ä½ä½å­˜å‚¨å˜é‡ç±»å‹ä¿¡æ¯ï¼Œ 000 å¼€å¤´çš„æ˜¯å¯¹è±¡ç„¶è€Œ null å…¨ä¸º 0ï¼Œæ‰€ä»¥è¢«é”™è¯¯å¾—åˆ¤æ–­ä¸º null

### ğŸˆ ä¸ºä»€ä¹ˆ 0.1 + 0.2 === 0.3 ä¸º false

> å› ä¸ºäºŒè¿›åˆ¶æµ®ç‚¹æ•°ä¸­çš„ 0.1 å’Œ 0.2 ä¸æ˜¯ç‰¹åˆ«å‡†ç¡®ï¼Œå®ƒä»¬ç›¸åŠ çš„ç»“æœå¹¶éæ­£å¥½ç­‰äº 0.3 è€Œæ˜¯0.30000000000000004, æ‰€ä»¥ç»“æœä¸º falseã€‚å¯ä»¥ä½¿ç”¨ `Number.EPSILON` (æœºå™¨ç²¾åº¦) è§£å†³è¿™ä¸ªé—®é¢˜
>
> ```js
> const result = 0.2 + 0.1
> 
> console.log(result === 0.3) // false
> console.log(result - 0.3 < Number.EPSILON)  // true
> ```

### ğŸˆ å¦‚ä½•è®©if(a == 1 && a == 2)æ¡ä»¶æˆç«‹ï¼Ÿ

>  ```js
> var a = {
>   value: 0,
>   valueOf: function() {
>       return ++this.value
>   }
> }
>  ```

### ğŸˆ ä¸ºä»€ä¹ˆ  arguments ä¸æ˜¯æ•°ç»„ï¼Œæ€ä¹ˆè½¬æ¢ä¸ºæ•°ç»„

> å› ä¸º arguments ä¸èƒ½ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•ï¼Œæ‰€ä»¥ arguments ä¸æ˜¯æ•°ç»„ã€‚å®ƒæ˜¯ç±»æ•°ç»„ï¼Œå±æ€§ä» 0 å¼€å§‹ç‰Œï¼Œä¹Ÿæœ‰ length å’Œ callee å±æ€§

è½¬ä¸ºæ•°ç»„ï¼š

- Array.from(arguments)
- [â€¦arguments]
- Array.prototype.slice.call(arguments, 0)
- Array.prototype.concat.apply([], arguments)
- éå†

### ğŸˆ forEach ä¸­ return æœ‰ç»“æœå—ï¼Œå¦‚ä½•ç»ˆæ­¢ forEach

> forEach ä¸­ return ä¸ä¼šè¿”å›ï¼Œå‡½æ•°ä¼šç»§ç»­æ‰§è¡Œ

ç»ˆæ­¢æ–¹æ³•

- try-catch
- ä½¿ç”¨ every å’Œ some æ›¿æ¢

ğŸˆ åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå€¼

- Array.prototype.indexOf()
- Array.prototype.lastIndexOf()
- Array.prototype.some(callback)
- Array.prototype.includes()     // includes æ‰¾åˆ°è¿”å› trueï¼Œæ²¡æ‰¾åˆ°è¿”å› false
- Array.prototype.find(callback)  // è¿”å›æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ªå€¼ï¼Œæ²¡æ‰¾åˆ°è¿”å› undefined
- Array.prototype.findIndex(callback) // è¿”å›æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ªå€¼çš„ç´¢å¼•ï¼Œæ²¡æ‰¾åˆ°è¿”å› -1  

ğŸˆ æ•°ç»„æ‰å¹³åŒ–

- é€’å½’

  ```js
  function _flat(arr, newArr = []) {
    for(var i = 0; i < arr.length; i++) {
      const item = arr[i]
      if(Array.isArray(item)) {
        _flat(item, newArr)
      }else{
        newArr.push(item)
      }
    }
    return newArr
  }
  ```

- é€’å½’çš„ reduce ç‰ˆæœ¬

  ```js
  function _flat(arr) {
    return arr.reduce((prev, next) => {
      return prev.concat(Array.isArray(next)? _flat(next) : next)
    }, [])
  }
  ```

- toString() + split() + map()

  é€‚ç”¨äºåªæœ‰æ•°å­—å…ƒç´ çš„æƒ…å†µï¼Œå°†å…¶å…ˆè½¬ä¸ºå­—ç¬¦ä¸²å†è½¬å›ä¸ºæ•°å­—

  ```js
  function _flat(arr) {
    return arr.toString().split(",").map(item => + item)
  }
  ```

- JSON.stringify() + replace() + split()

  é€‚ç”¨äºåªæœ‰æ•°å­—

  ```js
  function _flat(arr) {
    let arrStr = JSON.stringify(arr)
    return arrStr.replace(/\[|\]/g,'').split(",").map(item => + item)
  }
  ```

- JSON.stringify() + JSON.parse()

  ```js
  function _flat(arr) {
    let arrStr = JSON.stringify(arr)
    arrStr =  '[' + arrStr.replace(/\[|\]/g,'') + ']'
    return JSON.parse(arrStr)
  }
  ```

- some + ä¸‰ç‚¹è¿ç®—ç¬¦

  ```js
  function _flat(arr) {
    while(arr.some(item => Array.isArray(item))) {
      arr = [].concat(...arr)
    }
    return arr
  }
  ```

- flat

  ```js
  function flatArray(arr) {
   return arr.flat(Infinity)
  }
  ```

ğŸˆ

ğŸˆ

ğŸˆ

ğŸˆ

ğŸˆ

## 2. ä»£ç åˆ†æé¢˜

### ğŸˆ  å†™å‡ºä¸‹åˆ—ä»£ç çš„æ‰§è¡Œç»“æœï¼š 

```js
    new Promise((resolve) => {
console.log('1')
    resolve()
console.log('2')
     }).then(() => {
    console.log('3')
     })
     setTimeout(() => {
    console.log('4')
     })
     console.log('5')
```



ğŸˆ

ğŸˆ

ğŸˆ

ğŸˆ

ğŸˆ

## 3. ç¼–ç¨‹é¢˜

ğŸˆå®ç° instanceof

```js
function _instanceof(left, right) {
  if(typeof left !== 'object') {
    return false
  }
  if(right === null){
    return false
  }
  let _prototype = right.prototype,
      proto = Object.getPrototypeOf(left)
  while(true) {
    if(proto === null) {
      return false
    }
    if(proto === _prototype) {
      return true
    }    
    proto = Object.getPrototypeOf(proto)
  }
}
```

### ğŸˆ  å®ç° new

```js
function _new(constructor, ...args) {
  if(typeof constructor !== 'function') {
    throw new TypeError(callback + 'is not a funciton')
  }
  const obj = Object.create(constructor.prototype)
  const result = constructor.apply(obj, args)

  const isObject = typeof result === 'object' && result !== null
  const isFunction = typeof result === 'function' 
  
  return isObject || isFunction? result: obj
}

```

- æ³¨æ„ isObject è¦æ’é™¤null çš„æƒ…å†µ
- é™„åŠ åŸå‹å¯ä»¥ç›´æ¥ä½¿ç”¨ Object.create() æ–¹æ³•

### ğŸˆ å®ç° call() / apply()

```js
Function.prototype._call = function (thisArg, ...args) {
  let func = this

  if(typeof func !== 'function') {
    throw new TypeError(func + 'is not a function')
  }

  // ç¡®å®šå…¨å±€å¯¹è±¡, åœ¨ thisArg ä¸º null æˆ– undefined
  // å¹¶ä¸”è¿è¡Œåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹æ—¶æŠŠå…¨å±€å¯¹è±¡èµ‹å€¼ç»™ thisArg
  let globalContex = typeof global !== 'undefined'? global: window
  let contex = thisArg || globalContex 

  let fn =  Symbol('fn')    // åˆ›å»ºä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å±æ€§å
  contex[fn] = this		// æ³¨æ„ä¸èƒ½ä½¿ç”¨ contex.fn, å› ä¸º fn æ˜¯ä¸€ä¸ªå˜é‡å
  let result = contex[fn](...args)
  delete contex[fn]    // åˆ é™¤ç»™å¯¹è±¡æ·»åŠ çš„å±æ€§
  return result
}
```

å®ç° call ä¸ apply ç±»ä¼¼ï¼Œåªæ˜¯å®šä¹‰å‡½æ•°æ—¶ç¬¬äºŒä¸ªå‚æ•°ä¸º `args` ä¸æ˜¯ `...args`

### ğŸˆå®ç° bind()

```js
Function.prototype._bind = function (thisArg, ...args) {
  let target = this
  if(typeof target !== 'function') {
    throw new TypeError("target is not a funciton")
  }

  let bindedFn = function () {

    // å¦‚æœä½¿ç”¨ new è°ƒç”¨ä¸æ”¹å˜ thisæŒ‡å‘ 
    return target.apply(this instanceof target? this: thisArg,     

      // å°†è°ƒç”¨ binddedFn æ—¶ä¼ å…¥çš„å‚æ•°ä¸ è°ƒç”¨ bind æ—¶ç»™ target ä¼ å…¥çš„å‚æ•°åˆå¹¶
      args.concat(Array.prototype.slice.call(arguments)))
  }
  
  bindedFn.prototype = Object.create(target.prototype)

  return bindedFn
}
```

### ğŸˆ å®ç°æµ…æ‹·è´

#### 1. æ‰‹åŠ¨å®ç°

````js
function shadowClone(target) {

  // å¦‚æœæ˜¯åŸºæœ¬ç±»å‹ï¼Œç›´æ¥è¿”å›
  if (typeof target === 'object' && target !== null) {

    // æ•°ç»„åˆå§‹åŒ–ä¸º [] , å¯¹è±¡åˆå§‹åŒ–ä¸º {}
    let cloneTarget = Array.isArray(target)? [] : {}

    // éå†èµ‹å€¼ï¼Œç©ºå…ƒç´ è·³è¿‡éå†
    for(let key in target) {
      if(target.hasOwnProperty(key)) {
        cloneTarget[key] = target[key]
      }
    }
    return cloneTarget
  } else {
    return target
  }
}
````

#### 2. Object.assign()

```js
function shadowClone(target) {
  return Object.assign(target)
}
```

#### 3. Array.prototype.slice()

åªé€‚ç”¨äºæ•°ç»„

```js
function shadowClone(target) {
  return Array.prototype.slice(target)
}
```

#### 4. Array.prototype.concat()

åªé€‚ç”¨äºæ•°ç»„

```js
function shadowClone(target) {
  return Array.prototype.concat(target)
}
```

#### 5. å±•å¼€è¿ç®—ç¬¦

```js
function shadowClone(target) {
  if (typeof target === 'object' && target !== null) {
    if (Array.isArray(target)) {
      return [...target]
    } else {}
    return {
      ...target
    }
  } else {
    return target
  }
}
```

### ğŸˆ å®ç°æ·±æ‹·è´

#### 1. JSON.stringify() + JSON.parse()

```js
function deepClone(target) {
  return JSON.parse(JSON.stringify(target))
}
```

å­˜åœ¨çš„é—®é¢˜:

- æ— æ³•æ‹·è´å‡½æ•°ã€æ­£åˆ™ç­‰ç‰¹æ®Šå¯¹è±¡
- æ— æ³•è§£å†³å¾ªç¯å¼•ç”¨

#### 2. æ‰‹åŠ¨å®ç°



